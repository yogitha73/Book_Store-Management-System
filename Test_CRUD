import unittest
import json
import os
import tempfile
from data_manager import DataManager

class TestCRUDOperations(unittest.TestCase):
    """Unit tests for CRUD operations"""
    
    def setUp(self):
        """Set up test fixtures before each test method"""
        # Create a temporary file for testing
        self.test_file = tempfile.NamedTemporaryFile(mode='w', suffix='.json', delete=False)
        # Initialize with valid JSON structure
        initial_data = {
            'books': [],
            'next_id': 1,
            'last_updated': '2023-01-01T00:00:00.000000'
        }
        json.dump(initial_data, self.test_file, indent=2)
        self.test_file.close()
